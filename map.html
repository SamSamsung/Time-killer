<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css"> <!-- On importe le document style.css pour  utiliser le css-->
    <link rel="stylesheet" href="./css/map.css"> <!-- On importe le document style.css pour  utiliser le css-->

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <title>Map</title>
</head>
    <body>
        <div id="overlay"></div>
        <div class="pop_up" id="dropping">
            <p>Avez vous eu un rapport sexuel a cet endroit ?</p>
            <button class="verif_button" style="background-color: lightgreen;" onclick="yes()">OUI</button>
            <button class="verif_button" style="background-color: red;" onclick="pop_up_close()">NON</button>
        </div>
        <div class="pop_up" id="informations">
            <p>Bravo !</p>
            <button class="verif_button" style="background-color: lightgreen;" onclick="yes()">Enregistrer</button>
            <button class="verif_button" style="background-color: red;" onclick="pop_up_close()">Annuler</button>
        </div>
        <div id="map">
        </div>
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";
            import { getDatabase, ref, push, set, get, onValue } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
                apiKey: "AIzaSyBfc8bayndzKxerjww9pWcJf2t2rp_PwFM",
                authDomain: "my-map-acbca.firebaseapp.com",
                databaseURL: "https://my-map-acbca-default-rtdb.europe-west1.firebasedatabase.app",
                projectId: "my-map-acbca",
                storageBucket: "my-map-acbca.appspot.com",
                messagingSenderId: "103920017011",
                appId: "1:103920017011:web:d8c9591ea35b41dd741406"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const db = getDatabase(app);


            // Expose the database reference to the global scope or use it directly in your script
            window.db = db;
            window.ref = ref;
            window.push = push;
            window.set = set;
            window.get = get; // Assurez-vous d'exposer `get` aussi
            window.onValue = onValue;
        </script>
        <script src="./scripts/script_map.js"></script>
        
    </body>
    
</html>
